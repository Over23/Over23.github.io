<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html dir="ltr" lang="en"><head>
<title>HOWTO:Tomas useful Linux - Support Wiki</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="generator" content="MediaWiki 1.16.2">
<link rel="alternate" type="application/x-wiki" title="Edit" href="http://terrewiki.apps.tmrk.corp/index.php?title=HOWTO:Tomas_useful_Linux&amp;action=edit">
<link rel="edit" title="Edit" href="http://terrewiki.apps.tmrk.corp/index.php?title=HOWTO:Tomas_useful_Linux&amp;action=edit">
<link rel="shortcut icon" href="http://terrewiki.apps.tmrk.corp/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="http://terrewiki.apps.tmrk.corp/opensearch_desc.php" title="Support Wiki (en)">
<link rel="alternate" type="application/atom+xml" title="Support Wiki Atom feed" href="http://terrewiki.apps.tmrk.corp/index.php?title=Special:RecentChanges&amp;feed=atom">
<link rel="stylesheet" href="HOWTO%20Tomas%20useful%20Linux%20-%20Support%20Wiki_files/shared.css" media="screen">
<link rel="stylesheet" href="HOWTO%20Tomas%20useful%20Linux%20-%20Support%20Wiki_files/commonPrint.css" media="print">
<link rel="stylesheet" href="HOWTO%20Tomas%20useful%20Linux%20-%20Support%20Wiki_files/main.css" media="screen">
<!--[if lt IE 5.5000]><link rel="stylesheet" href="/skins/monobook/IE50Fixes.css?270" media="screen" /><![endif]-->
<!--[if IE 5.5000]><link rel="stylesheet" href="/skins/monobook/IE55Fixes.css?270" media="screen" /><![endif]-->
<!--[if IE 6]><link rel="stylesheet" href="/skins/monobook/IE60Fixes.css?270" media="screen" /><![endif]-->
<!--[if IE 7]><link rel="stylesheet" href="/skins/monobook/IE70Fixes.css?270" media="screen" /><![endif]-->
<link rel="stylesheet" href="HOWTO%20Tomas%20useful%20Linux%20-%20Support%20Wiki_files/index_003.css">
<link rel="stylesheet" href="HOWTO%20Tomas%20useful%20Linux%20-%20Support%20Wiki_files/index_002.css" media="print">
<link rel="stylesheet" href="HOWTO%20Tomas%20useful%20Linux%20-%20Support%20Wiki_files/index.css">
<link rel="stylesheet" href="HOWTO%20Tomas%20useful%20Linux%20-%20Support%20Wiki_files/index_004.css">
<script>
var skin="monobook",
stylepath="/skins",
wgUrlProtocols="http\\:\\/\\/|https\\:\\/\\/|ftp\\:\\/\\/|irc\\:\\/\\/|gopher\\:\\/\\/|telnet\\:\\/\\/|nntp\\:\\/\\/|worldwind\\:\\/\\/|mailto\\:|news\\:|svn\\:\\/\\/",
wgArticlePath="/index.php/$1",
wgScriptPath="",
wgScriptExtension=".php",
wgScript="/index.php",
wgVariantArticlePath=false,
wgActionPaths={},
wgServer="http://terrewiki.apps.tmrk.corp",
wgCanonicalNamespace="HOWTO",
wgCanonicalSpecialPageName=false,
wgNamespaceNumber=112,
wgPageName="HOWTO:Tomas_useful_Linux",
wgTitle="Tomas useful Linux",
wgAction="view",
wgArticleId=24881,
wgIsArticle=true,
wgUserName="Z832377",
wgUserGroups=["GRP-TerreWiki Read-Only", "*", "user", "autoconfirmed"],
wgUserLanguage="en",
wgContentLanguage="en",
wgBreakFrames=false,
wgCurRevisionId=103646,
wgVersion="1.16.2",
wgEnableAPI=true,
wgEnableWriteAPI=true,
wgSeparatorTransformTable=["", ""],
wgDigitTransformTable=["", ""],
wgMainPageTitle=null,
wgFormattedNamespaces={"-2": "Media", "-1": "Special", "0": "", "1": "Talk", "2": "User", "3": "User talk", "4": "Support Wiki", "5": "Support Wiki talk", "6": "File", "7": "File talk", "8": "MediaWiki", "9": "MediaWiki talk", "10": "Template", "11": "Template talk", "12": "Help", "13": "Help talk", "14": "Category", "15": "Category talk", "102": "Property", "103": "Property talk", "104": "Type", "105": "Type talk", "106": "Form", "107": "Form talk", "108": "Concept", "109": "Concept talk", "110": "INFO", "112": "HOWTO", "114": "RTS", "116": "BIO", "118": "TSHOOT", "120": "STAR"},
wgNamespaceIds={"media": -2, "special": -1, "": 0, "talk": 1, "user": 2, "user_talk": 3, "support_wiki": 4, "support_wiki_talk": 5, "file": 6, "file_talk": 7, "mediawiki": 8, "mediawiki_talk": 9, "template": 10, "template_talk": 11, "help": 12, "help_talk": 13, "category": 14, "category_talk": 15, "property": 102, "property_talk": 103, "type": 104, "type_talk": 105, "form": 106, "form_talk": 107, "concept": 108, "concept_talk": 109, "info": 110, "howto": 112, "rts": 114, "bio": 116, "tshoot": 118, "star": 120, "image": 6, "image_talk": 7},
wgSiteName="Support Wiki",
wgCategories=[],
wgMWSuggestTemplate="http://terrewiki.apps.tmrk.corp/api.php?action=opensearch\x26search={searchTerms}\x26namespace={namespaces}\x26suggest",
wgDBname="wikidb",
wgSearchNamespaces=[0, 110, 112, 114, 116, 118],
wgMWSuggestMessages=["with suggestions", "no suggestions"],
wgRestrictionEdit=[],
wgRestrictionMove=[],
wgAjaxWatch={"watchMsg": "Watch", "unwatchMsg": "Unwatch", "watchingMsg": "Watching...", "unwatchingMsg": "Unwatching...", "tooltip-ca-watchMsg": "Add this page to your watchlist", "tooltip-ca-unwatchMsg": "Remove this page from your watchlist"},
sfgRemoveText="Remove",
sfgAutocompleteOnAllChars=false,
sfgAutocompleteValues={},
sfgShowOnSelect={},
sfgInitJSFunctions={},
sfgValidationJSFunctions={},
sfgFormErrorsHeader="There were errors with your form input; see below",
sfgBlankErrorStr="cannot be blank",
sfgBadURLErrorStr="must have the correct URL format, starting with \"http\"",
sfgBadEmailErrorStr="must have a valid email address format",
sfgBadNumberErrorStr="must be a valid number",
sfgBadIntegerErrorStr="must be a valid integer",
sfgBadDateErrorStr="must be a valid date";
</script><style type="text/css">
:root #content > #right > .dose > .dosesingle,
:root #content > #center > .dose > .dosesingle
{ display: none !important; }</style><script src="HOWTO%20Tomas%20useful%20Linux%20-%20Support%20Wiki_files/wikibits.js"></script>
<script src="HOWTO%20Tomas%20useful%20Linux%20-%20Support%20Wiki_files/jquery.js"></script>
<script src="HOWTO%20Tomas%20useful%20Linux%20-%20Support%20Wiki_files/ajax.js"></script>
<script src="HOWTO%20Tomas%20useful%20Linux%20-%20Support%20Wiki_files/ajaxwatch.js"></script>
<script src="HOWTO%20Tomas%20useful%20Linux%20-%20Support%20Wiki_files/mwsuggest.js"></script>
<script src="HOWTO%20Tomas%20useful%20Linux%20-%20Support%20Wiki_files/index.php"></script>

		<link rel="alternate" type="application/rdf+xml" title="HOWTO:Tomas useful Linux" href="http://terrewiki.apps.tmrk.corp/index.php?title=Special:ExportRDF/HOWTO:Tomas_useful_Linux&amp;xmlmime=rdf">
<link href="HOWTO%20Tomas%20useful%20Linux%20-%20Support%20Wiki_files/socialwidgets.css" type="text/css" rel="stylesheet"></head>
<body class="mediawiki ltr ns-112 ns-subject page-HOWTO_Tomas_useful_Linux skin-monobook">
<div id="globalWrapper">
<div id="column-content"><div id="content">
	<a id="top"></a>
	
	<h1 id="firstHeading" class="firstHeading">HOWTO:Tomas useful Linux</h1>
	<div id="bodyContent">
		<h3 id="siteSub">From Support Wiki</h3>
		<div id="contentSub"></div>
		<div id="jump-to-nav">Jump to: <a href="#column-one">navigation</a>, <a href="#searchInput">search</a></div>
		<!-- start content -->
<table id="toc" class="toc"><tbody><tr><td><div id="toctitle"><h2>Contents</h2> <span class="toctoggle">[<a href="javascript:toggleToc()" class="internal" id="togglelink">hide</a>]</span></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#This_is_personal_notepad_of_useful_Linux_.5Bmainly_BASH.5D_command_and_small_scripts.2C_please_DO_NOT_FOLLOW_BLINDLY.2C_all_of_it_should_be_treated_as_example.2C_not_for_copy-paste_purposes."><span class="tocnumber">1</span> <span class="toctext">This
 is personal notepad of useful Linux [mainly BASH] command and small 
scripts, please DO NOT FOLLOW BLINDLY, all of it should be treated as 
example, not for copy-paste purposes.</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#find_core_dumps"><span class="tocnumber">1.1</span> <span class="toctext">find core dumps</span></a></li>
<li class="toclevel-2 tocsection-3"><a href="#cron_format"><span class="tocnumber">1.2</span> <span class="toctext">cron format</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#ILO_from_commandline_of_Linux_.26_HP_UX"><span class="tocnumber">1.3</span> <span class="toctext">ILO from commandline of Linux &amp; HP UX</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#find_big_files"><span class="tocnumber">1.4</span> <span class="toctext">find big files</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#find_files_over_250Mb"><span class="tocnumber">1.5</span> <span class="toctext">find files over 250Mb</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#services"><span class="tocnumber">1.6</span> <span class="toctext">services</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#tree_of_running_processes"><span class="tocnumber">1.7</span> <span class="toctext">tree of running processes</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="#showme_how_long_someting_is_runnning"><span class="tocnumber">1.8</span> <span class="toctext">showme how long someting is runnning</span></a></li>
<li class="toclevel-2 tocsection-10"><a href="#Mount_ISO"><span class="tocnumber">1.9</span> <span class="toctext">Mount ISO</span></a></li>
<li class="toclevel-2 tocsection-11"><a href="#who_consume_cpu"><span class="tocnumber">1.10</span> <span class="toctext">who consume cpu</span></a></li>
<li class="toclevel-2 tocsection-12"><a href="#who_is_using_file"><span class="tocnumber">1.11</span> <span class="toctext">who is using file</span></a></li>
<li class="toclevel-2 tocsection-13"><a href="#commandline_of_PID_process"><span class="tocnumber">1.12</span> <span class="toctext">commandline of PID process</span></a></li>
<li class="toclevel-2 tocsection-14"><a href="#where.2Fwhen_process_is_started"><span class="tocnumber">1.13</span> <span class="toctext">where/when process is started</span></a></li>
<li class="toclevel-2 tocsection-15"><a href="#Get_my_public_IP"><span class="tocnumber">1.14</span> <span class="toctext">Get my public IP</span></a></li>
<li class="toclevel-2 tocsection-16"><a href="#Is_website_up_and_running.3F"><span class="tocnumber">1.15</span> <span class="toctext">Is website up and running?</span></a></li>
<li class="toclevel-2 tocsection-17"><a href="#Show_me_history_of_commands"><span class="tocnumber">1.16</span> <span class="toctext">Show me history of commands</span></a></li>
<li class="toclevel-2 tocsection-18"><a href="#Migrate_by_tar_something_somewhere_.5Baka_TITS.5D"><span class="tocnumber">1.17</span> <span class="toctext">Migrate by tar something somewhere [aka TITS]</span></a></li>
<li class="toclevel-2 tocsection-19"><a href="#INCITE_Manager_-_ILO_over_ssh_tunnel"><span class="tocnumber">1.18</span> <span class="toctext">INCITE Manager - ILO over ssh tunnel</span></a></li>
<li class="toclevel-2 tocsection-20"><a href="#find_deleted_and_open_file"><span class="tocnumber">1.19</span> <span class="toctext">find deleted and open file</span></a></li>
<li class="toclevel-2 tocsection-21"><a href="#showme_LV_of_mountpoints"><span class="tocnumber">1.20</span> <span class="toctext">showme LV of mountpoints</span></a></li>
<li class="toclevel-2 tocsection-22"><a href="#rules_of_logrotate"><span class="tocnumber">1.21</span> <span class="toctext">rules of logrotate</span></a></li>
<li class="toclevel-2 tocsection-23"><a href="#CPU_use_in_time"><span class="tocnumber">1.22</span> <span class="toctext">CPU use in time</span></a></li>
<li class="toclevel-2 tocsection-24"><a href="#List_of_total_disks_in_the_array"><span class="tocnumber">1.23</span> <span class="toctext">List of total disks in the array</span></a></li>
<li class="toclevel-2 tocsection-25"><a href="#List_all_the_failed_drives_in_array_1234"><span class="tocnumber">1.24</span> <span class="toctext">List all the failed drives in array 1234</span></a></li>
<li class="toclevel-2 tocsection-26"><a href="#smart_swap_check"><span class="tocnumber">1.25</span> <span class="toctext">smart swap check</span></a></li>
<li class="toclevel-2 tocsection-27"><a href="#Tree_where_command_tree_is_not_avail"><span class="tocnumber">1.26</span> <span class="toctext">Tree where command tree is not avail</span></a></li>
<li class="toclevel-2 tocsection-28"><a href="#NTP_check"><span class="tocnumber">1.27</span> <span class="toctext">NTP check</span></a></li>
<li class="toclevel-2 tocsection-29"><a href="#Send_file_over_ROSH"><span class="tocnumber">1.28</span> <span class="toctext">Send file over ROSH</span></a></li>
<li class="toclevel-2 tocsection-30"><a href="#CPU_usage_parser_from_SAR"><span class="tocnumber">1.29</span> <span class="toctext">CPU usage parser from SAR</span></a></li>
<li class="toclevel-2 tocsection-31"><a href="#Test_if_machine_is_LINUX"><span class="tocnumber">1.30</span> <span class="toctext">Test if machine is LINUX</span></a></li>
<li class="toclevel-2 tocsection-32"><a href="#copy_file_by_mail"><span class="tocnumber">1.31</span> <span class="toctext">copy file by mail</span></a></li>
<li class="toclevel-2 tocsection-33"><a href="#extend_Linux_volume_.5Bwhole_change_as_example.5D"><span class="tocnumber">1.32</span> <span class="toctext">extend Linux volume [whole change as example]</span></a></li>
</ul>
</li>
</ul>
</td></tr></tbody></table><script>if (window.showTocToggle) { var tocShowText = "show"; var tocHideText = "hide"; showTocToggle(); } </script>
<h1><span class="editsection">[<a href="http://terrewiki.apps.tmrk.corp/index.php?title=HOWTO:Tomas_useful_Linux&amp;action=edit&amp;section=1" title="Edit section: This is personal notepad of useful Linux [mainly BASH] command and small scripts, please DO NOT FOLLOW BLINDLY, all of it should be treated as example, not for copy-paste purposes.">edit</a>]</span> <span class="mw-headline" id="This_is_personal_notepad_of_useful_Linux_.5Bmainly_BASH.5D_command_and_small_scripts.2C_please_DO_NOT_FOLLOW_BLINDLY.2C_all_of_it_should_be_treated_as_example.2C_not_for_copy-paste_purposes.">
 This is personal notepad of useful Linux [mainly BASH] command and 
small scripts, please DO NOT FOLLOW BLINDLY, all of it should be treated
 as example, not for copy-paste purposes. </span></h1>
<h3><span class="editsection">[<a href="http://terrewiki.apps.tmrk.corp/index.php?title=HOWTO:Tomas_useful_Linux&amp;action=edit&amp;section=2" title="Edit section: find core dumps">edit</a>]</span> <span class="mw-headline" id="find_core_dumps"> find core dumps </span></h3>
<pre>  find / -name "core" -ls
</pre>
<h3><span class="editsection">[<a href="http://terrewiki.apps.tmrk.corp/index.php?title=HOWTO:Tomas_useful_Linux&amp;action=edit&amp;section=3" title="Edit section: cron format">edit</a>]</span> <span class="mw-headline" id="cron_format"> cron format </span></h3>
<pre> * * * * command to be executed
 - - - - -  
 | | | | |
 | | | | ----- Day of week (0 - 7) (Sunday=0 or 7)
 | | | ------- Month (1 - 12)
 | | --------- Day of month (1 - 31)
 | ----------- Hour (0 - 23)
 ------------- Minute (0 - 59) 
</pre>
<h3><span class="editsection">[<a href="http://terrewiki.apps.tmrk.corp/index.php?title=HOWTO:Tomas_useful_Linux&amp;action=edit&amp;section=4" title="Edit section: ILO from commandline of Linux &amp; HP UX">edit</a>]</span> <span class="mw-headline" id="ILO_from_commandline_of_Linux_.26_HP_UX"> ILO from commandline of Linux &amp; HP UX</span></h3>
<ul><li> source&nbsp;: <a href="https://setaoffice.com/2014/01/10/discover-hp-ilo-ip-address-in-linux/" class="external free" rel="nofollow">https://setaoffice.com/2014/01/10/discover-hp-ilo-ip-address-in-linux/</a>
</li></ul>
<pre> ### complete ILO config
 root@linux:~ # hponcfg -w /tmp/iLO_ouput.out
 root@linux:~ # cat /tmp/ILO_ouput.out
</pre>
<pre> ### network config
 root@linux:~ # ipmitool lan print
</pre>
<pre> ### info about ilo
 root@linux:~ # dmidecode
</pre>
<pre> ### hpconfig to manipulate ILO config
 1. #/sbin/hponcfg -a -w /tmp/ilo2.out  
 # (Get configuration )
 2. #vi  /tmp/ilo.out 
</pre>
<pre> # (Edit configuration  to reflect changes)( Note this is xml file )
 3. #/sbin/hponcfg -f /tmp/ilo.out -v  #(Appy the configuration)
</pre>
<ul><li> Hp Ux&nbsp;: <a href="https://setaoffice.com/2013/08/30/discover-the-ip-address-of-ilo-in-a-hp-integrity-server/" class="external free" rel="nofollow">https://setaoffice.com/2013/08/30/discover-the-ip-address-of-ilo-in-a-hp-integrity-server/</a>
</li></ul>
<pre>  /opt/propplus/bin/cprop -detail -a &gt; /tmp/ilo_cua35132orc101.txt
</pre>
<h3><span class="editsection">[<a href="http://terrewiki.apps.tmrk.corp/index.php?title=HOWTO:Tomas_useful_Linux&amp;action=edit&amp;section=5" title="Edit section: find big files">edit</a>]</span> <span class="mw-headline" id="find_big_files"> find big files </span></h3>
<pre> du -cks * | sort -rn | head 
</pre>
<h3><span class="editsection">[<a href="http://terrewiki.apps.tmrk.corp/index.php?title=HOWTO:Tomas_useful_Linux&amp;action=edit&amp;section=6" title="Edit section: find files over 250Mb">edit</a>]</span> <span class="mw-headline" id="find_files_over_250Mb"> find files over 250Mb </span></h3>
<pre> find . -xdev -type f -size +250M -exec ls -l {} \;   
</pre>
<h3><span class="editsection">[<a href="http://terrewiki.apps.tmrk.corp/index.php?title=HOWTO:Tomas_useful_Linux&amp;action=edit&amp;section=7" title="Edit section: services">edit</a>]</span> <span class="mw-headline" id="services"> services </span></h3>
<pre> Chkconfig  
 initctl list  
 service --status-all
</pre>
<h3><span class="editsection">[<a href="http://terrewiki.apps.tmrk.corp/index.php?title=HOWTO:Tomas_useful_Linux&amp;action=edit&amp;section=8" title="Edit section: tree of running processes">edit</a>]</span> <span class="mw-headline" id="tree_of_running_processes"> tree of running processes </span></h3>
<pre> ps axjf    

</pre>
<h3><span class="editsection">[<a href="http://terrewiki.apps.tmrk.corp/index.php?title=HOWTO:Tomas_useful_Linux&amp;action=edit&amp;section=9" title="Edit section: showme how long someting is runnning">edit</a>]</span> <span class="mw-headline" id="showme_how_long_someting_is_runnning"> showme how long someting is runnning </span></h3>
<pre> ps -eo pid,etime | grep PID  
</pre>
<p>OR
</p>
<pre> ps -p PID -o etime=  
</pre>
<h3><span class="editsection">[<a href="http://terrewiki.apps.tmrk.corp/index.php?title=HOWTO:Tomas_useful_Linux&amp;action=edit&amp;section=10" title="Edit section: Mount ISO">edit</a>]</span> <span class="mw-headline" id="Mount_ISO"> Mount ISO </span></h3>
<pre> mount -o loop iso_name mount_dir
 
</pre>
<h3><span class="editsection">[<a href="http://terrewiki.apps.tmrk.corp/index.php?title=HOWTO:Tomas_useful_Linux&amp;action=edit&amp;section=11" title="Edit section: who consume cpu">edit</a>]</span> <span class="mw-headline" id="who_consume_cpu"> who consume cpu </span></h3>
<pre> ps -eo pcpu,pid,user,args | sort -k 1 -r | head -10
</pre>
<p>OR 
</p>
<pre> ps -eo pcpu,pid,user,args | sort -r -k1 | less 
</pre>
<p><br>  
</p>
<h3><span class="editsection">[<a href="http://terrewiki.apps.tmrk.corp/index.php?title=HOWTO:Tomas_useful_Linux&amp;action=edit&amp;section=12" title="Edit section: who is using file">edit</a>]</span> <span class="mw-headline" id="who_is_using_file"> who is using file </span></h3>
<pre> fuser -uv log.log
</pre>
<p>or
</p>
<pre> lsof -p PID    
</pre>
<p><br>  
</p>
<h3><span class="editsection">[<a href="http://terrewiki.apps.tmrk.corp/index.php?title=HOWTO:Tomas_useful_Linux&amp;action=edit&amp;section=13" title="Edit section: commandline of PID process">edit</a>]</span> <span class="mw-headline" id="commandline_of_PID_process"> commandline of PID process </span></h3>
<pre> less /proc/PID/commandline  
</pre>
<h3><span class="editsection">[<a href="http://terrewiki.apps.tmrk.corp/index.php?title=HOWTO:Tomas_useful_Linux&amp;action=edit&amp;section=14" title="Edit section: where/when process is started">edit</a>]</span> <span class="mw-headline" id="where.2Fwhen_process_is_started"> where/when process is started </span></h3>
<pre> less /etc/init.d/process
 ls -l /var/lock/subsys/ | grep process
</pre>
<h3><span class="editsection">[<a href="http://terrewiki.apps.tmrk.corp/index.php?title=HOWTO:Tomas_useful_Linux&amp;action=edit&amp;section=15" title="Edit section: Get my public IP">edit</a>]</span> <span class="mw-headline" id="Get_my_public_IP"> Get my public IP </span></h3>
<pre> curl -s checkip.dyndns.org | sed -e 's/.*Current IP Address: //' -e 's/&lt;.*$//'  
</pre>
<h3><span class="editsection">[<a href="http://terrewiki.apps.tmrk.corp/index.php?title=HOWTO:Tomas_useful_Linux&amp;action=edit&amp;section=16" title="Edit section: Is website up and running?">edit</a>]</span> <span class="mw-headline" id="Is_website_up_and_running.3F"> Is website up and running? </span></h3>
<pre> curl -L -I <a href="http://www.grm-online.nl/" class="external free" rel="nofollow">http://www.grm-online.nl</a>  
</pre>
<h3><span class="editsection">[<a href="http://terrewiki.apps.tmrk.corp/index.php?title=HOWTO:Tomas_useful_Linux&amp;action=edit&amp;section=17" title="Edit section: Show me history of commands">edit</a>]</span> <span class="mw-headline" id="Show_me_history_of_commands">  Show me history of commands </span></h3>
<pre>  HISTTIMEFORMAT="%d/%m/%y&nbsp;%T "
</pre>
<p>then
</p>
<pre>  history
</pre>
<h3><span class="editsection">[<a href="http://terrewiki.apps.tmrk.corp/index.php?title=HOWTO:Tomas_useful_Linux&amp;action=edit&amp;section=18" title="Edit section: Migrate by tar something somewhere [aka TITS]">edit</a>]</span> <span class="mw-headline" id="Migrate_by_tar_something_somewhere_.5Baka_TITS.5D"> Migrate by tar something somewhere [aka TITS] </span></h3>
<pre> (cd /home/over/test_tar/;tar -cf- *)  | (cd ~/test_tar2; tar -xvf -)
</pre>
<h3><span class="editsection">[<a href="http://terrewiki.apps.tmrk.corp/index.php?title=HOWTO:Tomas_useful_Linux&amp;action=edit&amp;section=19" title="Edit section: INCITE Manager - ILO over ssh tunnel">edit</a>]</span> <span class="mw-headline" id="INCITE_Manager_-_ILO_over_ssh_tunnel"> INCITE Manager - ILO over ssh tunnel </span></h3>
<ul><li> just example
</li></ul>
<pre> ssh -v -L 9998:localhost:2381 svcsuprt@dac32149snt003
</pre>
<h3><span class="editsection">[<a href="http://terrewiki.apps.tmrk.corp/index.php?title=HOWTO:Tomas_useful_Linux&amp;action=edit&amp;section=20" title="Edit section: find deleted and open file">edit</a>]</span> <span class="mw-headline" id="find_deleted_and_open_file"> find deleted and open file </span></h3>
<pre> /usr/sbin/lsof | grep deleted 
 /usr/sbin/lsof +L 1      # shows files with fewer than 1 link (aka deleted). Usually quite fast.

</pre>
<h3><span class="editsection">[<a href="http://terrewiki.apps.tmrk.corp/index.php?title=HOWTO:Tomas_useful_Linux&amp;action=edit&amp;section=21" title="Edit section: showme LV of mountpoints">edit</a>]</span> <span class="mw-headline" id="showme_LV_of_mountpoints"> showme LV of mountpoints </span></h3>
<pre> sudo lvdisplay|awk '/LV Name/{n=$3} /Block device/{d=$3; sub(".*:","dm-",d); print d,n;}'
</pre>
<h3><span class="editsection">[<a href="http://terrewiki.apps.tmrk.corp/index.php?title=HOWTO:Tomas_useful_Linux&amp;action=edit&amp;section=22" title="Edit section: rules of logrotate">edit</a>]</span> <span class="mw-headline" id="rules_of_logrotate"> rules of logrotate </span></h3>
<pre> ls -l /etc/logrotate.conf   
</pre>
<h3><span class="editsection">[<a href="http://terrewiki.apps.tmrk.corp/index.php?title=HOWTO:Tomas_useful_Linux&amp;action=edit&amp;section=23" title="Edit section: CPU use in time">edit</a>]</span> <span class="mw-headline" id="CPU_use_in_time"> CPU use in time </span></h3>
<ul><li> Better use nohup command so that you can logout and check back report later on:
</li></ul>
<pre> nohup sar -o output.file 12 8 &gt;/dev/null 2&gt;&amp;1 &amp;   

</pre>
<ul><li> All data is captured in binary form and saved to a file 
(data.file). The data can then be selectively displayed with the sar 
command using the -f option.
</li></ul>
<pre> sar -f data.file  
 
</pre>
<h3><span class="editsection">[<a href="http://terrewiki.apps.tmrk.corp/index.php?title=HOWTO:Tomas_useful_Linux&amp;action=edit&amp;section=24" title="Edit section: List of total disks in the array">edit</a>]</span> <span class="mw-headline" id="List_of_total_disks_in_the_array"> List of total disks in the array </span></h3>
<pre> symdisk -sid 1234 list  
</pre>
<p><br>
</p>
<h3><span class="editsection">[<a href="http://terrewiki.apps.tmrk.corp/index.php?title=HOWTO:Tomas_useful_Linux&amp;action=edit&amp;section=25" title="Edit section: List all the failed drives in array 1234">edit</a>]</span> <span class="mw-headline" id="List_all_the_failed_drives_in_array_1234"> List all the failed drives in array 1234 </span></h3>
<pre> symdisk -sid 1234 list -failed 
</pre>
<h3><span class="editsection">[<a href="http://terrewiki.apps.tmrk.corp/index.php?title=HOWTO:Tomas_useful_Linux&amp;action=edit&amp;section=26" title="Edit section: smart swap check">edit</a>]</span> <span class="mw-headline" id="smart_swap_check"> smart swap check </span></h3>
<pre> for file in /proc/*/status&nbsp;; do awk '/VmSwap|Name/{printf $2 " " $3}END{print ""}' $file; done | sort -k 2 -n -r | less
</pre>
<h3><span class="editsection">[<a href="http://terrewiki.apps.tmrk.corp/index.php?title=HOWTO:Tomas_useful_Linux&amp;action=edit&amp;section=27" title="Edit section: Tree where command tree is not avail">edit</a>]</span> <span class="mw-headline" id="Tree_where_command_tree_is_not_avail"> Tree where command tree is not avail </span></h3>
<pre> ls -R | grep ":$" | sed -e 's/:$//' -e 's/[^-][^\/]*\//--/g' -e 's/^/ /' -e 's/-/|/'
</pre>
<h3><span class="editsection">[<a href="http://terrewiki.apps.tmrk.corp/index.php?title=HOWTO:Tomas_useful_Linux&amp;action=edit&amp;section=28" title="Edit section: NTP check">edit</a>]</span> <span class="mw-headline" id="NTP_check"> NTP check </span></h3>
<pre> ntpq -pn 
 ntpstat; echo $? 
</pre>
<ul><li> if ntpstat status [echo $?] is showing 0 it does mean ntp is running and syncing 
</li></ul>
<p><br>  
</p>
<h3><span class="editsection">[<a href="http://terrewiki.apps.tmrk.corp/index.php?title=HOWTO:Tomas_useful_Linux&amp;action=edit&amp;section=29" title="Edit section: Send file over ROSH">edit</a>]</span> <span class="mw-headline" id="Send_file_over_ROSH"> Send file over ROSH </span></h3>
<ul><li> just example  
</li></ul>
<pre>  cat /home/dkelly/hpacucli-9.40-12.0.x86_64.rpm | rosh -l root -n 
bgamsldbp03-m.centricaplc.com "cat - &gt; 
/root/hpacucli-9.40-12.0.x86_64.rpm"     
  tar -cf - /home/dkelly/hpacucli-9.40-12.0.x86_64.rpm | rosh -l root -n
 bgamsldbp03-m.centricaplc.com tar -C /where -xvf -   
 
</pre>
<p><br>
</p>
<h3><span class="editsection">[<a href="http://terrewiki.apps.tmrk.corp/index.php?title=HOWTO:Tomas_useful_Linux&amp;action=edit&amp;section=30" title="Edit section: CPU usage parser from SAR">edit</a>]</span> <span class="mw-headline" id="CPU_usage_parser_from_SAR"> CPU usage parser from SAR </span></h3>
<pre> #!/bin/bash
 # CPU usage parser from SAR
 echo "CPU Usage"
 echo "============="
 echo -n "           "
 sar -u -f $file | head -3 | tail -1 | awk '{print substr($0,12,100)}'
 for file in `ls -tr /var/log/sa/sa* | grep -v sar`
 do
   dt=`sar -u -f $file | head -1 | awk '{print $NF}'`
   echo -n $dt
   sar -u -f $file | tail -1 | sed "s/Average:  //"
 done
</pre>
<p><br>  
</p>
<h3><span class="editsection">[<a href="http://terrewiki.apps.tmrk.corp/index.php?title=HOWTO:Tomas_useful_Linux&amp;action=edit&amp;section=31" title="Edit section: Test if machine is LINUX">edit</a>]</span> <span class="mw-headline" id="Test_if_machine_is_LINUX"> Test if machine is LINUX </span></h3>
<pre> #!/bin/bash
 # Test if machine is LINUX
 # list of hostnames expected as file, first parameter
 # .managed.cln should be changed as needed, this is just example
 while read line  
 do
   echo "$line".managed.cln ":"  
    ping -c2 "$line".managed.cln
    netcat -zv "$line".managed.cln 22 &amp;&gt; /dev/null; echo $?  
 done &lt; "$1"
</pre>
<h3><span class="editsection">[<a href="http://terrewiki.apps.tmrk.corp/index.php?title=HOWTO:Tomas_useful_Linux&amp;action=edit&amp;section=32" title="Edit section: copy file by mail">edit</a>]</span> <span class="mw-headline" id="copy_file_by_mail"> copy file by mail </span></h3>
<pre> base64 -w0 Network.png &gt; Network_base64.out
 cat Network_base64.out&gt;&gt; /var/tmp/hjh.txt
 cat /var/tmp/hjh.txt | mailx -s "embedded image test" my@email.com
</pre>
<h3><span class="editsection">[<a href="http://terrewiki.apps.tmrk.corp/index.php?title=HOWTO:Tomas_useful_Linux&amp;action=edit&amp;section=33" title="Edit section: extend Linux volume [whole change as example]">edit</a>]</span> <span class="mw-headline" id="extend_Linux_volume_.5Bwhole_change_as_example.5D"> extend Linux volume [whole change as example] </span></h3>
<pre> 1.  Virtual
   Add additional space on VM bwi-smqapp-q01  
   Chose VM bwi-smqapp-q01, edit resources -&gt; Create a new virtual 
disk -&gt;next -&gt;  setup value 20GB disk space.  next - &gt;next 
-&gt; Save - Finish
 2. Unix: 
   Check if a new disk has been found  
   # fdisk -l
   # tail -f /var/log/message  
   # ls /sys/class/scsi_host/ | while read host&nbsp;; do echo "- - -" 
&gt; /sys/class/scsi_host/$host/scan&nbsp;; done      
   # fdisk -l
 3.Unix:
   Check type of formatting for vg "local" volume  
   # cat /etc/fstab
   before you will increase /data volume  
 
 4.Unix  
   Check current Volume groups
   # vgs  
   # vgdisplay local
 
  5.Unix  
    Create physical volume, extend volume group
    # pvcreate /dev/sd*    //* is name of founded disk named by OS 
itself from fdisk -l command  
    # pvscan
    # vgextend local /dev/sd*    //* is name of founded disk named by OS
 itself from fdisk -l command  
 
  6.Unix  
    Verify current size of LV  for /data and extend it
    
    # lvdisplay /dev/local/data  
    # lvextend -L +20G /dev/mapper/local-data
    # resize2fs  -p /dev/mapper/local-data  
 
    Verify that LV size has a new value
    # lvdisplay /dev/local/data
  7.Unix  
    Check a size of LV  
    # vgdisplay local
    # df -h /data
</pre>
<!-- 
NewPP limit report
Preprocessor node count: 130/1000000
Post-expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Expensive parser function count: 0/100
-->

<!-- Saved in parser cache with key wikidb-mw_:pcache:idhash:24881-0!1!0!!en!2 and timestamp 20161107093848 -->
<div class="printfooter">
Retrieved from "<a href="http://terrewiki.apps.tmrk.corp/index.php/HOWTO:Tomas_useful_Linux">http://terrewiki.apps.tmrk.corp/index.php/HOWTO:Tomas_useful_Linux</a>"</div>
		<div id="catlinks" class="catlinks catlinks-allhidden"></div>		<!-- end content -->
				<div class="visualClear"></div>
	</div>
</div></div>
<div id="column-one">
	<div id="p-cactions" class="portlet">
		<h5>Views</h5>
		<div class="pBody">
			<ul>
				 <li id="ca-nstab-howto" class="selected"><a href="http://terrewiki.apps.tmrk.corp/index.php/HOWTO:Tomas_useful_Linux">HOWTO</a></li>
				 <li id="ca-talk" class="new"><a href="http://terrewiki.apps.tmrk.corp/index.php?title=:Tomas_useful_Linux&amp;action=edit&amp;redlink=1" title="Discussion about the content page [alt-shift-t]" accesskey="t">Discussion</a></li>
				 <li id="ca-edit"><a href="http://terrewiki.apps.tmrk.corp/index.php?title=HOWTO:Tomas_useful_Linux&amp;action=edit" title="You can edit this page. Please use the preview button before saving [alt-shift-e]" accesskey="e">Edit</a></li>
				 <li id="ca-history"><a href="http://terrewiki.apps.tmrk.corp/index.php?title=HOWTO:Tomas_useful_Linux&amp;action=history" title="Past revisions of this page [alt-shift-h]" accesskey="h">History</a></li>
				 <li id="ca-watch"><a href="http://terrewiki.apps.tmrk.corp/index.php?title=HOWTO:Tomas_useful_Linux&amp;action=watch" title="Add this page to your watchlist [alt-shift-w]" accesskey="w">Watch</a></li>
				 <li id="ca-purge"><a href="http://terrewiki.apps.tmrk.corp/index.php?title=HOWTO:Tomas_useful_Linux&amp;action=purge">Refresh</a></li>
			</ul>
		</div>
	</div>
	<div class="portlet" id="p-personal">
		<h5>Personal tools</h5>
		<div class="pBody">
			<ul>
				<li id="pt-userpage"><a href="http://terrewiki.apps.tmrk.corp/index.php/User:Z832377" title="Your user page [alt-shift-.]" accesskey="." class="new">Z832377</a></li>
				<li id="pt-mytalk"><a href="http://terrewiki.apps.tmrk.corp/index.php/User_talk:Z832377" title="Your talk page [alt-shift-n]" accesskey="n" class="new">My talk</a></li>
				<li id="pt-preferences"><a href="http://terrewiki.apps.tmrk.corp/index.php/Special:Preferences" title="Your preferences">My preferences</a></li>
				<li id="pt-watchlist"><a href="http://terrewiki.apps.tmrk.corp/index.php/Special:Watchlist" title="The list of pages you are monitoring for changes [alt-shift-l]" accesskey="l">My watchlist</a></li>
				<li id="pt-mycontris"><a href="http://terrewiki.apps.tmrk.corp/index.php/Special:Contributions/Z832377" title="List of your contributions [alt-shift-y]" accesskey="y">My contributions</a></li>
				<li id="pt-logout"><a href="http://terrewiki.apps.tmrk.corp/index.php?title=Special:UserLogout&amp;returnto=HOWTO:Tomas_useful_Linux" title="Log out">Log out</a></li>
			</ul>
		</div>
	</div>
	<div class="portlet" id="p-logo">
		<a style="background-image: url(/images/tmrk_logo_final.gif);" href="http://terrewiki.apps.tmrk.corp/index.php/Main_Page" title="Visit the main page"></a>
	</div>
	<script type="text/javascript"> if (window.isMSIE55) fixalpha(); </script>
	<div class="generated-sidebar portlet" id="p-navigation">
		<h5>Navigation</h5>
		<div class="pBody">
			<ul>
				<li id="n-All-Customers-List"><a href="http://terrewiki.apps.tmrk.corp/index.php/Category:All_Customers">All Customers List</a></li>
				<li id="n-Generic-KB.27s"><a href="http://terrewiki.apps.tmrk.corp/index.php/Category:Generic_KB">Generic KB's</a></li>
				<li id="n-Terrewiki-FAQ"><a href="http://terrewiki.apps.tmrk.corp/index.php/Terrewiki_FAQ">Terrewiki FAQ</a></li>
				<li id="n-currentevents"><a href="http://terrewiki.apps.tmrk.corp/index.php/Support_Wiki:Current_events" title="Find background information on current events">Current events</a></li>
				<li id="n-recentchanges"><a href="http://terrewiki.apps.tmrk.corp/index.php/Special:RecentChanges" title="The list of recent changes in the wiki [alt-shift-r]" accesskey="r">Recent changes</a></li>
				<li id="n-randompage"><a href="http://terrewiki.apps.tmrk.corp/index.php/Special:Random" title="Load a random page [alt-shift-x]" accesskey="x">Random page</a></li>
			</ul>
		</div>
	</div>
	<div class="generated-sidebar portlet" id="p-Create_New_Article">
		<h5>Create New Article</h5>
		<div class="pBody">
			<ul>
				<li id="n-RTS-Article"><a href="http://terrewiki.apps.tmrk.corp/index.php/Special:FormEdit/CreateRTSKB?namespace=RTS">RTS Article</a></li>
				<li id="n-Informational-Article"><a href="http://terrewiki.apps.tmrk.corp/index.php/Special:FormEdit/CreateInfoKB?namespace=INFO">Informational Article</a></li>
				<li id="n-How-To-Article"><a href="http://terrewiki.apps.tmrk.corp/index.php/Special:FormEdit/CreateHowToKB?namespace=HOWTO">How-To Article</a></li>
				<li id="n-Troubleshooting-Article"><a href="http://terrewiki.apps.tmrk.corp/index.php/Special:FormEdit/CreateTroubleshootingKB?namespace=TSHOOT">Troubleshooting Article</a></li>
				<li id="n-Create-Generic-KB"><a href="http://terrewiki.apps.tmrk.corp/index.php/Generic_KB_Forms">Create Generic KB</a></li>
			</ul>
		</div>
	</div>
	<div id="p-search" class="portlet">
		<h5><label for="searchInput">Search</label></h5>
		<div id="searchBody" class="pBody">
			<form action="/index.php" id="searchform">
				<input name="title" value="Special:Search" type="hidden">
				<input autocomplete="off" id="searchInput" title="Search Support Wiki" accesskey="f" name="search" type="search">
				<input name="go" class="searchButton" id="searchGoButton" value="Go" title="Go to a page with this exact name if exists" type="submit">&nbsp;
				<input name="fulltext" class="searchButton" id="mw-searchButton" value="Search" title="Search the pages for this text" type="submit">
			</form>
		</div>
	</div>
	<div class="portlet" id="p-tb">
		<h5>Toolbox</h5>
		<div class="pBody">
			<ul>
				<li id="t-whatlinkshere"><a href="http://terrewiki.apps.tmrk.corp/index.php/Special:WhatLinksHere/HOWTO:Tomas_useful_Linux" title="List of all wiki pages that link here [alt-shift-j]" accesskey="j">What links here</a></li>
				<li id="t-recentchangeslinked"><a href="http://terrewiki.apps.tmrk.corp/index.php/Special:RecentChangesLinked/HOWTO:Tomas_useful_Linux" title="Recent changes in pages linked from this page [alt-shift-k]" accesskey="k">Related changes</a></li>
<li id="t-upload"><a href="http://terrewiki.apps.tmrk.corp/index.php/Special:Upload" title="Upload files [alt-shift-u]" accesskey="u">Upload file</a></li>
<li id="t-specialpages"><a href="http://terrewiki.apps.tmrk.corp/index.php/Special:SpecialPages" title="List of all special pages [alt-shift-q]" accesskey="q">Special pages</a></li>
				<li id="t-permalink"><a href="http://terrewiki.apps.tmrk.corp/index.php?title=HOWTO:Tomas_useful_Linux&amp;oldid=103646" title="Permanent link to this revision of the page">Permanent link</a></li><li id="t-smwbrowselink"><a href="http://terrewiki.apps.tmrk.corp/index.php/Special:Browse/HOWTO:Tomas_useful_Linux" title="Special:Browse/HOWTO:Tomas useful Linux">Browse properties</a></li>			</ul>
		</div>
	</div>
	<div class="generated-sidebar portlet" id="p-coll-print_export">
		<h5>Print/export</h5>
		<div class="pBody">
<ul id="collectionPortletList"><li id="coll-create_a_book"><a href="http://terrewiki.apps.tmrk.corp/index.php?title=Special:Book&amp;bookcmd=book_creator&amp;referer=HOWTO%3ATomas+useful+Linux" title="Create a book or page collection" rel="nofollow">Create a book</a></li><li id="coll-download-as-rl"><a href="http://terrewiki.apps.tmrk.corp/index.php?title=Special:Book&amp;bookcmd=render_article&amp;arttitle=HOWTO%3ATomas+useful+Linux&amp;oldid=103646&amp;writer=rl" title="Download a PDF version of this wiki page" rel="nofollow">Download as PDF</a></li><li id="t-print"><a href="http://terrewiki.apps.tmrk.corp/index.php?title=HOWTO:Tomas_useful_Linux&amp;printable=yes" title="Printable version of this page [alt-shift-p]" accesskey="p">Printable version</a></li></ul>		</div>
	</div>
</div><!-- end of the left (by default at least) column -->
<div class="visualClear"></div>
<div id="footer">
	<div id="f-poweredbyico"><a href="http://www.mediawiki.org/"><img src="HOWTO%20Tomas%20useful%20Linux%20-%20Support%20Wiki_files/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" height="31" width="88"></a></div>
	<ul id="f-list">
		<li id="lastmod"> This page was last modified on 2016-10-20, at 13:51:55.</li>
		<li id="viewcount">This page has been accessed 76 times.</li>
		<li id="copyright">All Terrewiki knowledgebase content is governed by 
Corporate Policy Instruction 810 (CPI-810) and is classified as 
confidential. Disclosure to unauthorized individuals or third parties is
 strictly prohibited and subject to disciplinary action.</li>
		<li id="privacy"><a href="http://terrewiki.apps.tmrk.corp/index.php/Support_Wiki:Privacy_policy" title="Support Wiki:Privacy policy">Privacy policy</a></li>
		<li id="about"><a href="http://terrewiki.apps.tmrk.corp/index.php/Support_Wiki:About" title="Support Wiki:About">About Support Wiki</a></li>
		<li id="disclaimer"><a href="http://terrewiki.apps.tmrk.corp/index.php/Support_Wiki:General_disclaimer" title="Support Wiki:General disclaimer">Disclaimers</a></li>
	</ul>
</div>
</div>

<script>if (window.runOnloadHook) runOnloadHook();</script>
<!-- Served in 0.276 secs. -->
</body></html>